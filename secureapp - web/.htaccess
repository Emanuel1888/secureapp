# Activar el motor de reescritura de URLs
RewriteEngine On

# MODIFICAI칍N 2, Quitamos la redirecci칩n forzda a HTTPS###################
# Redirigir todas las solicitudes a HTTPS si no est치n en HTTPS
RewriteCond %{HTTPS} !=on
RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# Seguridad adicional recomendada

# Evitar que se muestren errores del servidor
ServerSignature Off

# Deshabilitar listado de directorios
Options -Indexes

# MODIFICAI칍N 1############################
# 游댮 [Eliminado]: Bloqueo de ejecuci칩n PHP
 <FilesMatch "\.(php|php5|phtml)$">
     Order Deny,Allow
    Deny from all
 </FilesMatch>

# Protecci칩n b치sica contra XSS y clickjacking
<IfModule mod_headers.c>
    Header always set X-Content-Type-Options "nosniff"
    Header always set X-Frame-Options "DENY"
    Header always set X-XSS-Protection "1; mode=block"
</IfModule>

# 游댃 Si usas CORS (habil칤talo solo si sabes lo que haces)
# Header always set Access-Control-Allow-Origin "*"

# SEO: redireccionar www a sin www (opcional)
# RewriteCond %{HTTP_HOST} ^www\.(.+)$ [NC]
# RewriteRule ^ https://%1%{REQUEST_URI} [L,R=301]
